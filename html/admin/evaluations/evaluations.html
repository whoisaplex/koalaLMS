<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
        <script src="https://use.fontawesome.com/f832093fcd.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <link rel="stylesheet" href="../../../css/style.css"/>
        <style>
            .container1 input[type=text] {
padding:5px 0px;
margin:5px 5px 5px 0px;
}

.add_form_field
{
    background-color: #1c97f3;
    border: none;
    color: white;
    padding: 8px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
 border:1px solid #186dad;
}

input{
    border: 1px solid #1c97f3;
    width: 80%;
    height: 30px;
 margin-bottom:20px;
}

.delete{
    background-color: #fd1200;
    border: none;
    color: white;
    padding: 5px 15px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    margin: 4px 2px;
    cursor: pointer;
}
        </style>
    </head>
    <body>
    <nav class="student-navbar" style="position:fixed;" id="www">
      <div class="nav-user-block">
        <img src="http://www.xsjjys.com/data/out/96/WHDQ-512397052.jpg">
        <p>Welcome,</p>
        <h4 id="user-Name">Alexander</h4>
      </div>
      <div class="nav-menu" id="nav-menu">
        <a href="../home/index.html"><p onclick="changeContent(this)"><i class="fa fa-home" aria-hidden="true"></i>Home</p></a>
        <p onclick="toggleCourses()"><i class="fa fa-book" aria-hidden="true"></i>Courses</p>
        <div>
          <div id="nav-courses" style="display:none">
          </div>
        </div>

        <p onclick="changeContent(this)"><a href="../courses/addcourses.html"><i class="fa fa-plus-square" aria-hidden="true"></i></i>Add Courses</a></p>
        <p onclick="changeContent(this)"><a href="../evaluations/evaluations.html"><i class="fa fa-file-text-o" aria-hidden="true"></i>Evaluations</a></p>
        <p onclick="changeContent(this)"><a href="../accounts/accounts.html"><i class="fa fa-user-o" aria-hidden="true"></i>Accounts</a></p>

      </div>
    </nav>

    <nav class="mobile-nav">
      <div>
        <p><i class="fa fa-bars" onclick="toggleNavBar(this)" id="openNav"></i></p>
      </div>
      <div>
        <h2 id="currentPageHeader"></h2>
      </div>
    </nav>

    <!-- MAIN GRID FOR NAVIGATION ON TOP -->
    <div class="nav-wrapper-grid" id="nav-wrapper">
        <div class="nav-grid-space"></div>
        <div class="top-nav-bar">
              <h1>KYH Koalas</h1>
              <button onclick="logOutUser()">Logout</button>
        </div>
    </div>

      <div class="grid-main-content-row" onclick="toggleNavBar(this)">
        <div style=" grid-row: 1 / last-line;"></div>
        <div class="grid-1-box"> <!-- Change class to fit how many boxes you want -->
              <div class="grid-style-box courses-box" style="padding-bottom:10px;">
                <h2 id="teacherEvaluationsText"> Evaluations List</h2>
                <hr>
                <div class="grid-2-box" id="evaluationsList">


        </div>
      </div>
    </div>
  </div>


    <div class="grid-main-content-row" onclick="toggleNavBar(this)">
        <div style=" grid-row: 1 / last-line;"></div>
        <div class="grid-1-box"> <!-- Change class to fit how many boxes you want -->
              <div class="grid-style-box courses-box" style="padding-bottom:10px;">
                <h2 id="teacherEvaluationsText">Sent Evaluations</h2>
                <hr>
                <div class="grid-2-box" id="teacherEvaluationsContent">


        </div>
      </div>
    </div>
  </div>
  <div class="dark-overlay" id="add-evaluation-to-course">
      <div class="grid-main-content-row">
        <div style=" grid-row: 1 / last-line;"></div>
        <div class="grid-1-box"> <!-- Change class to fit how many boxes you want -->
            <div class="grid-style-box courses-box" style="padding-bottom:10px;">
                <h2 id="teacherEvaluationsText">Add Evaluation </h2>
              <label class="evaluation-title" for="title">Evaluation Title</label><input type="text" name="evaluation-title" id="evaluation-title">

                <div class="container1">
                </div>
                <button class="attendance-button">Add question to evaluation  &nbsp; <span style="font-size:16px; font-weight:bold;">+ </span></button>

            </div>
        </div>
      </div>
    </div>
  <script>
        $(document).ready(function() {
    var max_fields      = 20;
    var wrapper         = $(".container1");
    var add_button      = $(".attendance-button");

    var x = 1;
    $(add_button).click(function(e){
        e.preventDefault();
        if(x < max_fields){

            $(wrapper).append('<div><input type="text" name="question_'+x+'"/><a href="#" class="delete">Delete</a></div>'); //add input box
              x++;
        }
  else
  {
  alert('You Reached the limits')
  }
    });

    $(wrapper).on("click",".delete", function(e){
        e.preventDefault(); $(this).parent('div').remove(); x--;
    })
});

 </script>



  <div class="dark-overlay" id="teacher-dark-overlay"></div>
  <!-- Dropdown assignments -->
  <div id="teacher-assignment-dropdown">
    <div id="teacher-assignment-dropdown-grid">
      <div></div>
      <div>
        <div id="assignment-dropdown-error"><h3>An Assignment can't be created without a title</h3></div>
        <i onclick="closeAssignmentBox()" class="fa fa-times fa-2x" aria-hidden="true" id="attendance-dropdown-close-icon"></i>
        <input type="text" placeholder="Title of Assignment" id="addAssignmentTitle">
        <input type="text" placeholder="Description of Assignment" id="addAssignmentDescription">
        <button class="attendance-button" onclick="addAssignmentConfirm()">Add Assignment</button>
      </div>
    </div>
  </div>

            <!-- Dark overlay
      <div class="dark-overlay" id="attendance-dark-overlay"></div>

      <div id="attendance-dropdown">
        <div id="attendance-dropdown-grid">
          <div></div>
          <div>
            <div id="attendance-dropdown-error"><h3>Wrong Code</h3></div>
            <i onclick="closeAttendanceDropdown()" class="fa fa-times fa-2x" aria-hidden="true" id="attendance-dropdown-close-icon"></i>
            <input type="text" placeholder="Enter your code..." id="attendance-dropdown-input">
            <button class="attendance-button" onclick="submitCodeAttendance()">Send Code</button>
          </div>
        </div>
      </div>-->

      <script src="../../../javascript/database.js"></script>
      <script src="../../../javascript/login.js"></script>
      <script src="../../../javascript/nav.js"></script>
      <script src="../../../javascript/teacher/teacher.js"></script>
      <script src="../../../javascript/teacher/TeacherEvaluations.js"></script>

      <script>

        for(let i=0; i<courses.length; i++){

            let tempDiv = document.createElement('div');
                tempDiv.className = "grid-style-box";
                tempDiv.id = "TeacherEvaluationsCourse"+i;

            let courseTitle = '<div class="evaluation-list-course-title-box"><p class="evaluation-list-course-title">'+courses[i].course_title+'</p><p><button class="attendance-button" onclick="addNewEvaluation('+courses[i].course_id
+');" >Add Evaluation</button></p></div><div class="teacherEvaluationsBox" id="teacherEvaluationContainer'+i+'"></div>';


                tempDiv.innerHTML = courseTitle;
                document.getElementById('evaluationsList').appendChild(tempDiv);

            let noOfEvaluation = 0;


            for(let y = 0; y < evaluations.length; y++){

                if(courses[i].course_id == evaluations[y].course_id){
                    console.log(evaluations[y]);
                    noOfEvaluation++;
                    let evaluationContent = '<div class="evaluation-title-box teacherEvaluations"><div><i class="fa fa-caret-right" aria-hidden="true"></i></div><div class="evaluation-title" onclick="viewOrEditEvalutation('+evaluations[y].evaluation_id+');">'+evaluations[y].evaluation_title+'</div><div><i class="fa fa-pencil-square-o" aria-hidden="true"></i></div><div><i class="fa fa-trash-o" aria-hidden="true"></i></div></div>';

                    let content = '';
                    document.getElementById('teacherEvaluationContainer'+i).innerHTML += evaluationContent;


                }


            }

             if(noOfEvaluation === 0){
                    let noEvaluationFound = '<div><div class="no-evaluations-found" style="grid-template-columns: 0px">No evaluation found. Create a new One!</div></div>';
                     document.getElementById('teacherEvaluationContainer'+i).innerHTML += noEvaluationFound;

                }

        }

        function viewOrEditEvalutation(id){
            document.getElementById('admin-view-edit-evaluation-overlay').style.display = 'block';
            let evaluationHTML = '<h1>This is test</h1>';
            //document.getElementById('teacher-examination-dropdown').style.display = 'block';
            document.getElementById('evaluation-container').innerHTML += evaluationHTML;
        }

        function addNewEvaluation(id){

            alert(id);

          if(document.getElementById('add-evaluation-to-course').style.display === 'none' || document.getElementById('add-evaluation-to-course').style.display === ''){
            document.getElementById('add-evaluation-to-course').style.display = 'block';
            //document.getElementById('evaluation-dark-overlay').style.display = 'block';

          }else{
            document.getElementById('add-evaluation-to-course').style.display = 'none';
          }
        }

        function closeEvaluationDropdown(){
          document.getElementById('evaluation-dropdown-input').value = '';
          document.getElementById('evaluation-dropdown').style.display = 'none';
          document.getElementById('evaluation-dark-overlay').style.display = 'none';
          document.getElementById('evaluation-dropdown-error').style.display = 'none';
        }

        function submitEvaluation(){



          let codeInput = document.getElementById('evaluation-dropdown-input').value;
          if(codeInput != ''){

          }else{
            document.getElementById('evaluation-dropdown-error').style.display = 'grid';
          }
        }


      </script>

    </body>
</html>
